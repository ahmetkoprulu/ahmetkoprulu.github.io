(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},40:function(e,t,a){e.exports=a(83)},46:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),s=a.n(r),c=(a(46),a(2)),o=a(3),i=a(6),d=a(4),u=a(5),m=a(8),h=a.n(m),b=(a(26),a(49),a(51),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-8 mb-3"},l.a.createElement("div",{id:"calendar"}))}},{key:"componentDidMount",value:function(){h()("#calendar").fullCalendar({eventClick:function(e){h()("#calendar").fullCalendar("removeEvents",e.id)},header:!1,defaultView:"agendaWeek",weekends:!1,allDaySlot:!1,height:"auto",defaultDate:"2016-01-11",slotLabelFormat:"H:mm",minTime:"09:00:00",maxTime:"18:00:00",slotDuration:"00:30:00",columnHeader:!0,columnHeaderFormat:"ddd"})}}]),t}(n.Component)),p=a(1),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).event=e.event,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.event.map(function(e){return e.presentation});return console.log(e),l.a.createElement("div",{className:"fc-event mb-2 bg-dark"},this.event[0].id+" | "+this.event[0].description,l.a.createElement("br",null),this.event[0].teacher+" | "+this.event[0].room,l.a.createElement("br",null),e)}},{key:"componentDidMount",value:function(){var e=this;s.a.findDOMNode(this).addEventListener("click",function(){for(var t=0;t<e.event.length;t++)h()("#calendar").fullCalendar("renderEvent",e.props.event[t])})}}]),t}(n.Component),f=a(13),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={url:"",tableHtml:"",scrapMode:"url"},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.handleCick=a.handleCick.bind(Object(p.a)(Object(p.a)(a))),a.saveChanges=a.saveChanges.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleCick",value:function(e){var t,a,n=e.target.name;"url"===e.target.getAttribute("data-value")?this.setState((t={},Object(f.a)(t,n,e.target.getAttribute("data-value")),Object(f.a)(t,"tableHtml",""),t)):this.setState((a={},Object(f.a)(a,n,e.target.getAttribute("data-value")),Object(f.a)(a,"url",""),a)),console.log(this.state.scrapMode,this.state.url,this.state.tableHtml)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(f.a)({},a,n)),console.log(this.state.scrapMode,this.state.url,this.state.tableHtml)}},{key:"saveChanges",value:function(){this.props.stateHandler(this)}},{key:"render",value:function(){return l.a.createElement("div",{class:"modal fade",id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},l.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"modal-header"},l.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Manual Course Load"),l.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{class:"modal-body"},l.a.createElement("ul",{class:"nav nav-pills red mb-3 w-100",id:"pills-tab",role:"tablist"},l.a.createElement("li",{class:"nav-item pill-1 w-50"},l.a.createElement("a",{class:"nav-link active","data-toggle":"pill",href:"#pills-home",role:"tab","aria-controls":"pills-home","aria-selected":"true",name:"scrapMode","data-value":"url",checked:"url"===this.state.scrapMode,onClick:this.handleCick},"Course Url")),l.a.createElement("li",{class:"nav-item pill-1 w-50"},l.a.createElement("a",{class:"nav-link",id:"pills-profile-tab","data-toggle":"pill",href:"#pills-profile",role:"tab","aria-controls":"pills-profile","aria-selected":"false",name:"scrapMode","data-value":"tableHtml",checked:"tableHtml"===this.state.scrapMode,onClick:this.handleCick},"Course Html"))),l.a.createElement("div",{class:"tab-content",id:"pills-tabContent"},l.a.createElement("div",{class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},l.a.createElement("p",null,"Please copy the url of recently published syllabus ",l.a.createElement("br",null)," (it fails on pages that needs authentication)"),l.a.createElement("input",{type:"text",name:"url",value:this.state.url,onChange:this.handleChange,className:"w-100",placeholder:"Url here."})),l.a.createElement("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},l.a.createElement("p",null,"Please copy the HTML SOURCE of syllabus. For more imformation https://developers.google.com/web/tools/chrome-devtools/"),l.a.createElement("textarea",{name:"tableHtml",value:this.state.tableHtml,onChange:this.handleChange,className:"w-100",placeholder:"Html tags here."})))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:this.saveChanges},"Save changes")))))}}]),t}(l.a.Component),E=a(39),y=a.n(E),k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={events:[],search:"",scrapOptions:{url:"https://www.sehir.edu.tr/tr/Sayfalar/2018-2019-bahar-donemi-ders-programi.aspx",tableHtml:"",scrapMode:"url"}},e.updateSearch=e.updateSearch.bind(Object(p.a)(Object(p.a)(e))),e.handleState=e.handleState.bind(Object(p.a)(Object(p.a)(e))),e.loadCourses=e.loadCourses.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleState",value:function(e){this.setState({events:[]}),this.loadCourses(e.state)}},{key:"componentDidMount",value:function(){this.loadCourses(this.state.scrapOptions)}},{key:"loadCourses",value:function(e){var t=this;"url"===this.state.scrapOptions.scrapMode?fetch("https://cors-anywhere.herokuapp.com/"+this.state.scrapOptions.url,{mode:"cors"}).then(function(e){return e.text()}).then(function(e){return t.extractCourses(e)}).catch(function(e){return console.log("Failed to fetch page: ",e)}):"tableHtml"===this.state.scrapOptions.scrapMode&&(this.extractCourses(this.state.scrapOptions.tableHtml),console.log("yo else if"))}},{key:"extractCourses",value:function(e){var t=[],a=(new DOMParser).parseFromString(e,"text/html"),n=a.getElementsByTagName("tr");console.log(a),console.log(n);for(var l=1;l<n.length;l++)try{t.push(this.createEvent(n.item(l).getElementsByTagName("td")))}catch(r){console.log("Error accured while extract course")}this.setState({events:t,search:""})}},{key:"createEvent",value:function(e){for(var t=[],a=e.item(2).innerText.split("\n"),n=e.item(3).innerText.split("\n"),l={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5},r=0;r<a.length;r++){var s=n[r].trim().split("-"),c="2016-01-1"+l[a[r].trim()]+"T"+s[0],o="2016-01-1"+l[a[r].trim()]+"T"+s[1];t.push({id:e.item(0).innerText,title:e.item(0).innerText+"\n "+e.item(4).innerText,description:e.item(1).innerText,teacher:e.item(5).innerText,room:e.item(4).innerText,start:c,end:o,presentation:a[r]+" "+n[r]})}return t}},{key:"getRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},{key:"updateSearch",value:function(e){e.persist(),this.setState({events:this.state.events,search:e.target.value.substr(0,20)}),console.log(this.state.search)}},{key:"takeScreenShot",value:function(){y()(document.querySelector("#calendar")).then(function(e){var t=document.createElement("a");t.setAttribute("href",e.toDataURL("image/jpeg")),t.setAttribute("download","plan"),t.style.display="none",document.body.appendChild(t),t.click()})}},{key:"clearCalendar",value:function(){h()("#calendar").fullCalendar("removeEvents")}},{key:"generateComponents",value:function(){var e=this;return this.state.events.filter(function(t){return-1!==t[0].id.toLowerCase().indexOf(e.state.search.toLowerCase())||-1!==t[0].description.toLowerCase().indexOf(e.state.search.toLowerCase())}).map(function(t){for(var a=e.getRandomColor(),n=0;n<t.length;n++)t[n].color=a;return l.a.createElement(v,{key:t[0].title,event:t})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-4 mb-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{id:"search",class:"form-group has-search w-100"},l.a.createElement("span",{class:"fa fa-search form-control-feedback"}),l.a.createElement("input",{type:"text",class:"form-control",value:this.state.search,onChange:this.updateSearch,placeholder:"Search"})),l.a.createElement("div",{className:"col-md-12 scrollable",id:"external-events"},this.state.events.length>0?this.generateComponents():l.a.createElement("div",{class:"spinner inner"},l.a.createElement("div",{class:"cube1"}),l.a.createElement("div",{class:"cube2"}))),l.a.createElement("div",{class:"btn-group w-100 mt-2",role:"group","aria-label":"Basic example"},l.a.createElement("button",{className:"btn btn-outline-dark w-auto",type:"button","data-toggle":"modal","data-target":"#exampleModalCenter"},"Scrap"),l.a.createElement("button",{className:"btn btn-outline-success w-50",type:"button",onClick:this.takeScreenShot},"Done!"),l.a.createElement("button",{className:"btn btn-outline-danger w-auto",type:"button",onClick:this.clearCalendar},"Clear"))),l.a.createElement(g,{stateHandler:this.handleState}))}}]),t}(n.Component),C=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{class:"page-footer font-small darken-3"},l.a.createElement("div",{class:"container-fluid material-gray"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-12 pb-4"},l.a.createElement("div",{class:" flex-center"},l.a.createElement("div",{class:"col-md-8 col-12 mt-4"},l.a.createElement("h3",null,"Introduction"),l.a.createElement("p",null,'Courses will load immediately after page is loaded. If you think courses are wrong you can load manually by clicking "Scrap". In order to add courses to calendar click the loaded courses on the right. To remove them from calendar, click them on the calendar. Ater all "Done" button will create an image and download it to your pc.'),l.a.createElement("br",null),l.a.createElement("p",null,"Thanks for using. Contact me for any feedback.")))))),l.a.createElement("div",{class:"material-black text-center py-3"},"Made By Ahmet Ensar K\xf6pr\xfcl\xfc"))}}]),t}(n.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark material-black justify-content-between"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand nav-link",href:"/"},"Planner Sehir"),l.a.createElement("ul",{class:"navbar-nav flex-row ml-md-auto d-none d-md-flex"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{className:"text-light",href:"https://github.com/ahmetkoprulu/"},l.a.createElement("i",{className:"fab fa-github fa-lg"}))),l.a.createElement("li",{class:"nav-item ml-2"},l.a.createElement("a",{className:"text-light",href:"https://www.linkedin.com/in/ahmetkoprulu/"},l.a.createElement("i",{className:"fab fa-linkedin-in fa-lg"}," "))))))}}]),t}(n.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement(b,null),l.a.createElement(k,null))),l.a.createElement(C,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.8258f798.chunk.js.map